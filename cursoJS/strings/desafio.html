<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso JS - Desafio</title>
</head>
<body>
    <h1>Curso Javascript Completo 2018</h1> 
        
    <p>Lorem ipsum <b>dolor sit</b> amet, consectetur adipisicing elit. Fugiat amet perferendis quisquam repudiandae sed illum beatae est aut reprehenderit. Reprehenderit possimus fuga cumque officiis consectetur mollitia impedit maxime nesciunt fugiat?</p>
    
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat amet perferendis quisquam repudiandae sed illum beatae est aut reprehenderit. Reprehenderit possimus fuga cumque officiis consectetur mollitia impedit maxime nesciunt fugiat? Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat amet perferendis quisquam repudiandae sed illum beatae est aut reprehenderit. Reprehenderit possimus fuga cumque officiis consectetur mollitia impedit maxime nesciunt fugiat?</p>
    
    <p>Lorem ipsum dolor sit amet. </p>

    <script>                    
        (function(){
            window.addEventListener('load', init);
        
            function init(){
                var $paragrafos = document.querySelectorAll('p');
        
                var x = 0;
                while($paragrafos[x]){
                    $paragrafos[x].innerHTML = formatarTexto($paragrafos[x].innerHTML);
                    x++;
                }
            }
        
            function formatarTexto(texto){
                var numeroMaximoCaracteres = 50;
                if(texto.length <= numeroMaximoCaracteres) {
                    return texto;
                }
                var subTexto = texto.slice(0, numeroMaximoCaracteres);
                return subTexto + '...';
            }
        })()
    </script>
</body>
</html>